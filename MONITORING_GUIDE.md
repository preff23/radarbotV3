# üîç –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ë–æ—Ç–∞ —Å –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
```bash
python start_bot.py
```
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç:
- ü§ñ –û—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
- üìä –°–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîß –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### 2. –ó–∞–ø—É—Å–∫ –¢–æ–ª—å–∫–æ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
python monitor_system.py monitor
```

### 3. –ë—ã—Å—Ç—Ä–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–∏—Å—Ç–µ–º—ã
```bash
python monitor_system.py check
```

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –ú–µ—Ç—Ä–∏–∫
```bash
python monitor_system.py metrics
```

### 5. –ó–∞–ø—É—Å–∫ –¢–µ—Å—Ç–æ–≤
```bash
python run_tests.py
```

---

## üìä API Endpoints –¥–ª—è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### Health Checks
- **GET** `/api/health/` - –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- **GET** `/api/health/summary` - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
- **GET** `/api/health/components/{name}` - –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **GET** `/api/health/metrics` - –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- **POST** `/api/health/check` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### Cache Management
- **GET** `/api/cache/ocr/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ OCR –∫—ç—à–∞
- **DELETE** `/api/cache/ocr/clear` - –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
- **POST** `/api/cache/ocr/cleanup` - –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –∑–∞–ø–∏—Å–µ–π
- **GET** `/api/cache/errors/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫
- **DELETE** `/api/cache/errors/reset` - –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤ –æ—à–∏–±–æ–∫

### CorpBonds API
- **GET** `/api/corpbonds/bond/{isin}` - –î–∞–Ω–Ω—ã–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏
- **POST** `/api/corpbonds/bonds` - –î–∞–Ω–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π
- **GET** `/api/corpbonds/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. Database Health
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- ‚è±Ô∏è –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 2. Cache Health
- üìà –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ OCR
- üéØ Hit rate (–ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π)
- üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –∑–∞–ø–∏—Å–µ–π

### 3. Error Monitoring
- üö® –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚ö†Ô∏è –£—Ä–æ–≤–Ω–∏ —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

### 4. Memory Health
- üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- üìà –¢—Ä–µ–Ω–¥—ã –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏

### 5. External APIs
- üåê –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å MOEX API
- üè¶ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å T-Bank API
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¢–µ—Å—Ç—ã
```bash
python run_tests.py
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ OCR Cache (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- ‚úÖ Error Handler (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
- ‚úÖ Health Monitor (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ CorpBonds Integration (–ø–∞—Ä—Å–∏–Ω–≥ –æ–±–ª–∏–≥–∞—Ü–∏–π)
- ‚úÖ Smart Data Loader (—É–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö)

### –†—É—á–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –¢–µ—Å—Ç OCR Cache
```python
from bot.utils.ocr_cache import ocr_cache

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞
stats = ocr_cache.get_stats()
print(f"Cache size: {stats['cache_size']}")
print(f"Hit rate: {stats['hit_rate']}%")

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
ocr_cache.clear()
```

#### –¢–µ—Å—Ç Error Handler
```python
from bot.core.error_handler import handle_error, ErrorSeverity, ErrorCategory

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
error_info = handle_error(
    ValueError("Test error"),
    severity=ErrorSeverity.LOW,
    category=ErrorCategory.BUSINESS_LOGIC
)
```

#### –¢–µ—Å—Ç Health Monitor
```python
from bot.core.health_monitor import health_monitor

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
health = await health_monitor.get_system_health()
print(f"Status: {health.overall_status}")
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ê–ª–µ—Ä—Ç—ã

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ê–ª–µ—Ä—Ç—ã
- ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- ‚ùå –ö—ç—à –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω (>95%)
- ‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (>10)
- ‚ùå –í–Ω–µ—à–Ω–∏–µ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- ‚ö†Ô∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç (>5s)
- ‚ö†Ô∏è –ö—ç—à –ø–æ—á—Ç–∏ –ø–æ–ª–æ–Ω (>90%)
- ‚ö†Ô∏è –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: <5s –æ—Ç–≤–µ—Ç
- ‚úÖ –ö—ç—à: <90% –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –û—à–∏–±–∫–∏: <5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö
- ‚úÖ –ü–∞–º—è—Ç—å: <1GB

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
tail -f bot_run.log

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python -c "from bot.core.config import config; print(config.validate())"

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
python run_tests.py
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
curl http://localhost:8000/api/cache/ocr/stats

# –û—á–∏—â–∞–µ–º –∫—ç—à
curl -X DELETE http://localhost:8000/api/cache/ocr/clear

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Ç—Ä–∏–∫–∏
python monitor_system.py metrics
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫
```bash
# –°–º–æ—Ç—Ä–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫
curl http://localhost:8000/api/cache/errors/stats

# –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫–∏
curl -X DELETE http://localhost:8000/api/cache/errors/reset

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
python monitor_system.py check
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Cron Jobs –¥–ª—è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * cd /path/to/radar3.0 && python monitor_system.py check >> monitoring.log 2>&1

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * cd /path/to/radar3.0 && curl -X POST http://localhost:8000/api/cache/ocr/cleanup
```

### Systemd Service
```ini
[Unit]
Description=RadarBot 3.0 with Monitoring
After=network.target

[Service]
Type=simple
User=radarbot
WorkingDirectory=/path/to/radar3.0
ExecStart=/usr/bin/python3 start_bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

---

## üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### Telegram –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ health_monitor.py
async def send_telegram_alert(message: str):
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
    pass
```

### Email –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ health_monitor.py
async def send_email_alert(message: str):
    # –û—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    pass
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** –∫—ç—à–∞ –∏ –æ—à–∏–±–æ–∫
3. **–û—á–∏—â–∞–π—Ç–µ –∫—ç—à** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python run_tests.py`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `python monitor_system.py check`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ `bot_run.log`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoints –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
